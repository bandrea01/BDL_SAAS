<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="icon" href="./logo_black.png"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/jsoneditor/10.0.1/jsoneditor.min.css" rel="stylesheet"
          type="text/css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsoneditor/10.0.1/jsoneditor.min.js"></script>
    <title>Big Data Lab | Software as a service</title>
    <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/icon?family=Material+Icons"
    />
    <link rel="stylesheet" href="src/styles.css"/>
</head>
<body>
<div class="model-manager">
    <div class="viewer-container">
        <div
                id="webinar-sharepoint-viewer"
                style="transform: translateX(0%); width: 100%; height: 100vh"
        ></div>
        <div style="width: 75vw; margin: 0 auto; text-align: center">
            <button id="help-button" class="help-button">
                <i class="material-icons">help_outline</i>
            </button>
        </div>
    </div>
    <div class="json-viewer" id="json-viewer">
        <div id="jsoneditor"></div>
    </div>
</div>
<div id="popup-container" class="popup-container">
    <div class="popup-content">
        <span class="close" id="close">&times;</span>
        <h2>Help</h2>
        <p>&nbsp;</p>
        <p>In this viewer you can move in two ways:</p>
        <p>
            • While holding <strong>LEFT</strong> click you can rotate the scene.
        </p>
        <p>
            • While holding <strong>RIGHT</strong> click you can move through the
            axes.
        </p>
        <p>
            • Double-clicking the <strong>SCROLL WHEEL</strong> initiates a length
            measurement operation, which you can conclude simply by
            double-clicking it again. If you want to delete a previous
            measurament, you can simply point at it and press
            <strong>DELETE</strong>.
        </p>
        <p>&nbsp;</p>
        <p>
            In the toolbar on the bottom you can perform three different actions:
        </p>
        <p>
            • <strong>Load IFC:</strong> you can load an IFC file that you want to
            visualize.
        </p>
        <p>
            • <strong>Refresh</strong>: you can dispose model added before in the scene.
        </p>
        <p>
            • <strong>Properties</strong>: if you click on a fragment of the
            loaded 3D model you can check all its properties in this window.
        </p>
        <p>
            • <strong>Query tool</strong>: in this menu you can choose which AQL query perform
            in order to visualize certain datas. All the information will be shown in the Json Viewer
            on the right.
        </p>
    </div>
</div>
<!-- Query form -->
<div id="query-container-id" class="query-container">
    <div class="query-content">
        <span id="query-close-id" class="close">&times;</span>
        <h2 id="title-label-id">Show nodes details</h2>
        <div class="input-group">
            <label class="input-container">
                <span class="label-text" id="subtitle-id-label">Node key</span>
                <input type="text" id="node-name-input-id" name="node_name" placeholder="Es. IfcWallStandardCase-200" required>
            </label>
            <label class="input-container">
                <span class="label-text">Minimum depth</span>
                <input type="text" id="min-depth-input-id" name="min_depth" placeholder="Es. 0" required>
            </label>
            <label class="input-container">
                <span class="label-text">Maximum depth</span>
                <input type="text" id="max-depth-input-id" name="max_depth" placeholder="Es. 5" required>
            </label>
            <label class="input-container">
                <span class="label-text">Direction</span>
                <select id="direction-input-id" name="direction" required>
                    <option value="Inbound">Inbound</option>
                    <option value="Outbound">Outbound</option>
                    <option value="Any" selected>Any</option>
                </select>
            </label>
            <div class="button-container">
                <button id="confirm-button-id">Confirm</button>
                <button id="reset-button-id">Reset</button>
            </div>
        </div>
    </div>
</div>

<!-- Query by type form -->
<div id="query-container-type" class="query-container">
    <div class="query-content">
        <span id="query-close-type" class="close">&times;</span>
        <h2 id="title-label-type">Show nodes by type</h2>
        <div class="input-group">
            <label class="input-container">
                <span class="label-text" id="subtitle-label-type">Node Type</span>
                <input type="text" id="node-name-input-type" name="node_name" placeholder="Es. IfcWallStandardCase" required>
            </label>
            <label class="input-container">
                <span class="label-text">Minimum depth</span>
                <input type="text" id="min-depth-input-type" name="min_depth" placeholder="Es. 0" required>
            </label>
            <label class="input-container">
                <span class="label-text">Maximum depth</span>
                <input type="text" id="max-depth-input-type" name="max_depth" placeholder="Es. 5" required>
            </label>
            <label class="input-container">
                <span class="label-text">Direction</span>
                <select id="direction-input-type" name="direction" required>
                    <option value="Inbound">Inbound</option>
                    <option value="Outbound">Outbound</option>
                    <option value="Any" selected>Any</option>
                </select>
            </label>
            <div class="button-container">
                <button id="confirm-button-type">Confirm</button>
                <button id="reset-button-type">Reset</button>
            </div>
        </div>
    </div>
</div>

<!-- Sensor form -->
<div id="sensor-form-container" class="query-container">
    <div class="sensor-form-content">
        <div class="sensor-form-header">
            <h2 id="sensor-title-label">Add Sensor</h2>
            <span id="sensor-close-button" class="close">&times;</span>
        </div>
        <div class="sensor-form-body">
            <div class="input-group">
                <label class="input-container">
                    <span class="label-text">Component ID *</span>
                    <input type="text" id="component-input" name="component_id"
                           placeholder="Es. IfcWallStandardCase-200" required>
                </label>
            </div>
            <div>
                <label class="input-container">
                    <span class="label-text">Sensor Type *</span>
                    <input type="text" id="sensor-type-input" name="node_name" placeholder="Type of sensor (es. Temperature)" required>
                </label>
            </div>
            <div>
                <label class="input-container">
                    <span class="label-text">Brand Name *</span>
                    <input type="text" id="brand-name-input" name="brand_name" placeholder="Device's Brand Name (Es. STMicroelectronics)"
                           required>
                </label>
            </div>
            <div>
                <label class="input-container">
                    <span class="label-text">Manufacturer Name *</span>
                    <input type="text" id="manufacturer-name-input" name="manefacturer_name"
                           placeholder="Device's Manufacturer Name (es. STMicroelectronics)" required>
                </label>
            </div>
            <div>
                <label class="input-container">
                    <span class="label-text">Model Name *</span>
                    <input type="text" id="model-name-input" name="model_name" placeholder="Devices's Model Name (es. AC412)" required>
                </label>
            </div>
            <div>
                <label class="input-container">
                    <span class="label-text">Name of item</span>
                    <input type="text" id="name-input" name="name" placeholder="Device's name (es. MySensor)">
                </label>
            </div>
            <div>
                <label class="input-container">
                    <span class="label-text">Description</span>
                    <input type="text" id="description-input" name="description_name"
                           placeholder="Device's information description">
                </label>
            </div>
            <div>
                <label class="input-container">
                    <span class="label-text">Controlled property *</span>
                    <input type="text" id="controlled-property-input" name="controlled_property_name"
                           placeholder="Quantity measured by device (Es. temperature)" required>
                </label>
            </div>
            <div>
                <label class="input-container">
                    <span class="label-text">Measurement type</span>
                    <input type="text" id="measurement-type-input" name="measurement_name" placeholder="Measurement taken type">
                </label>
            </div>
            <div>
                <label class="input-container">
                    <span class="label-text">Relative coordinates *</span>
                    <div>
                        <input type="text" id="coordinate-x-input" name="coordinate_x_name" placeholder="X coordinate"
                               required>
                    </div>
                    <div>
                        <input type="text" id="coordinate-y-input" name="coordinate_y_name" placeholder="Y coordinate"
                               required>
                    </div>
                    <div>
                        <input type="text" id="coordinate-z-input" name="coordinate_z_name" placeholder="Z coordinate"
                               required>
                    </div>
                </label>
            </div>
        </div>

        <div class="button-container">
            <button id="sensor-confirm-button">Confirm</button>
            <button id="sensor-reset-button">Reset</button>
        </div>
    </div>
</div>


<script type="module" src="/src/main.ts"></script>
<script>
    document.getElementById("help-button").addEventListener("click", function () {
        document.getElementById("popup-container").style.display = "block";
    });
    document.getElementById("close").addEventListener("click", function () {
        document.getElementById("popup-container").style.display = "none";
    });
</script>
</body>
</html>
